<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NeuralHabit â€” Forge Your Future</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=Space+Grotesk:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="bg-canvas">
  <canvas id="particleCanvas"></canvas>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
</div>

<div class="shell">

  <!-- SIDEBAR -->
  <nav class="sidebar">
    <div class="logo-block">
      <div class="logo-icon">ğŸ§ </div>
      <div><div class="logo-text">NeuralHabit</div><div class="logo-sub">Forge Your Future</div></div>
    </div>
    <div class="nav-menu" id="navMenu">
      <div class="nav-item active" data-view="dashboard" onclick="UI.goTo('dashboard')">
        <span class="nav-icon">ğŸ¯</span><span class="nav-label">Dashboard</span>
        <span class="nav-pill" id="navProg">0%</span>
      </div>
      <div class="nav-item" data-view="habits" onclick="UI.goTo('habits')">
        <span class="nav-icon">âš¡</span><span class="nav-label">Habits</span>
        <span class="nav-pill" id="navCount">0</span>
      </div>
      <div class="nav-item" data-view="analytics" onclick="UI.goTo('analytics')">
        <span class="nav-icon">ğŸ“Š</span><span class="nav-label">Analytics</span>
      </div>
      <div class="nav-item" data-view="insights" onclick="UI.goTo('insights')">
        <span class="nav-icon">ğŸ¤–</span><span class="nav-label">AI Insights</span>
        <span class="nav-pulse"></span>
      </div>
      <div class="nav-item" data-view="timeline" onclick="UI.goTo('timeline')">
        <span class="nav-icon">â³</span><span class="nav-label">Timeline</span>
      </div>
    </div>
    <div class="sidebar-spacer"></div>
    <div class="streak-card">
      <div class="streak-flame">ğŸ”¥</div>
      <div><div class="streak-num" id="sideStreak">0</div><div class="streak-lbl">Day Streak</div></div>
    </div>
  </nav>

  <main class="main">

    <!-- DASHBOARD -->
    <div class="view active" id="view-dashboard">
      <div class="page-head">
        <div><div class="page-title">Command Center</div><div class="page-sub" id="dateStr"></div></div>
        <button class="btn btn-cyan" onclick="UI.openModal()">â• &nbsp;New Habit</button>
      </div>
      <div class="stats-row">
        <div class="stat-card"><div class="stat-icon si-cyan">ğŸ¯</div><div class="stat-val" id="doneToday">0</div><div class="stat-lbl">Completed Today</div><div class="stat-delta" id="deltaTxt">â€“</div></div>
        <div class="stat-card"><div class="stat-icon si-vio">âš¡</div><div class="stat-val" id="totalH">0</div><div class="stat-lbl">Active Habits</div><div class="stat-delta">Daily targets</div></div>
        <div class="stat-card"><div class="stat-icon si-green">ğŸ“ˆ</div><div class="stat-val" id="weekRate">0%</div><div class="stat-lbl">7-Day Rate</div><div class="stat-delta">Rolling average</div></div>
        <div class="stat-card"><div class="stat-icon si-amber">ğŸ†</div><div class="stat-val" id="perfDays">0</div><div class="stat-lbl">Perfect Days</div><div class="stat-delta">100% completion</div></div>
      </div>
      <div class="card">
        <div class="card-head">
          <div class="card-title">TODAY'S HABITS</div>
          <div class="ring-outer">
            <svg class="ring-svg" width="64" height="64">
              <defs><linearGradient id="rg" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#00f0ff"/><stop offset="100%" stop-color="#7c3aed"/></linearGradient></defs>
              <circle class="ring-bg" cx="32" cy="32" r="26"></circle>
              <circle class="ring-fill" id="ringFill" cx="32" cy="32" r="26"></circle>
            </svg>
            <div class="ring-info"><div class="ring-pct" id="ringPct">0%</div><div class="ring-sub">done</div></div>
          </div>
        </div>
        <div class="habits-list" id="todayList"></div>
      </div>
      <div class="card" style="background:linear-gradient(135deg,rgba(0,240,255,.04),rgba(124,58,237,.04));border-color:rgba(0,240,255,.2);">
        <div class="card-head"><div class="card-title">NEURAL INSIGHTS</div><div class="card-badge">ğŸ¤– AI ACTIVE</div></div>
        <div class="ai-grid" id="dashInsights"></div>
      </div>
    </div>

    <!-- HABITS -->
    <div class="view" id="view-habits">
      <div class="page-head">
        <div><div class="page-title">Habit Library</div><div class="page-sub">Manage your active protocols</div></div>
        <button class="btn btn-cyan" onclick="UI.openModal()">â• &nbsp;New Habit</button>
      </div>
      <div class="filter-bar">
        <button class="fbtn active" onclick="UI.setFilter('all',this)">All</button>
        <button class="fbtn" onclick="UI.setFilter('done',this)">Completed</button>
        <button class="fbtn" onclick="UI.setFilter('pending',this)">Pending</button>
        <div class="search-wrap"><span class="search-ico">ğŸ”</span><input type="text" id="searchInput" placeholder="Search habitsâ€¦" oninput="UI.renderHabits()"></div>
      </div>
      <div class="habits-list" id="habitLibrary"></div>
    </div>

    <!-- ANALYTICS -->
    <div class="view" id="view-analytics">
      <div class="page-head"><div><div class="page-title">Analytics</div><div class="page-sub">Visualizing your growth patterns</div></div></div>
      <div class="chart-grid">
        <div class="card"><div class="card-head"><div class="card-title">30-DAY COMPLETION TREND</div></div><canvas id="trendCanvas" height="200"></canvas></div>
        <div class="card"><div class="card-head"><div class="card-title">CATEGORY BREAKDOWN</div></div><canvas id="catCanvas" height="200"></canvas></div>
      </div>
      <div class="card">
        <div class="card-head"><div class="card-title">90-DAY ACTIVITY HEATMAP</div><div style="font-size:.8rem;color:var(--txt2)">Each cell = one day</div></div>
        <div class="heatmap-cells" id="heatmap"></div>
        <div class="hm-legend"><span>Less</span><div class="lc lc0"></div><div class="lc lc1"></div><div class="lc lc2"></div><div class="lc lc3"></div><div class="lc lc4"></div><span>More</span></div>
      </div>
    </div>

    <!-- AI INSIGHTS -->
    <div class="view" id="view-insights">
      <div class="page-head">
        <div><div class="page-title">AI Insights</div><div class="page-sub">Behavioral pattern analysis engine</div></div>
        <div class="card-badge">ğŸ¤– AI ACTIVE</div>
      </div>
      <div id="insightCards" style="display:flex;flex-direction:column;gap:20px;"></div>
    </div>

    <!-- TIMELINE -->
    <div class="view" id="view-timeline">
      <div class="page-head"><div><div class="page-title">Journey Timeline</div><div class="page-sub">Your habit formation story</div></div></div>
      <div id="timelineEl"></div>
    </div>

  </main>
</div>

<!-- MODAL -->
<div class="overlay" id="modalOverlay" onclick="UI.bgClose(event)">
  <div class="modal">
    <div class="modal-hd">
      <div class="modal-title">INITIALIZE NEW HABIT</div>
      <button class="modal-x" onclick="UI.closeModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <form id="habitForm" onsubmit="DB.addHabit(event)">
        <div class="fg"><label>Habit Name</label><input id="fName" type="text" placeholder="e.g. Morning meditation" required maxlength="60" autocomplete="off"></div>
        <div class="fg"><label>Description (optional)</label><textarea id="fDesc" rows="2" placeholder="Why does this matter to you?"></textarea></div>
        <div class="fg-row">
          <div class="fg"><label>Category</label><select id="fCat"><option value="health">ğŸ’ª Health & Fitness</option><option value="mind">ğŸ§˜ Mindfulness</option><option value="productivity">âš¡ Productivity</option><option value="learning">ğŸ“š Learning</option><option value="social">ğŸ¤ Social</option><option value="finance">ğŸ’° Finance</option></select></div>
          <div class="fg"><label>Difficulty</label><select id="fDiff"><option value="easy">ğŸ˜Š Easy</option><option value="medium">ğŸ’ª Medium</option><option value="hard">ğŸ”¥ Hard</option></select></div>
        </div>
        <div class="fg-row">
          <div class="fg"><label>Target Time</label><input id="fTime" type="time" value="08:00"></div>
          <div class="fg"><label>Goal Frequency</label><select id="fGoal"><option value="daily">ğŸŒŸ Daily</option><option value="3x">ğŸ“… 3Ã— per week</option><option value="5x">ğŸ” 5Ã— per week</option></select></div>
        </div>
      </form>
    </div>
    <div class="modal-ft">
      <button class="btn btn-ghost" onclick="UI.closeModal()">Cancel</button>
      <button class="btn btn-cyan" onclick="document.getElementById('habitForm').requestSubmit()">âœ¨ &nbsp;Create Habit</button>
    </div>
  </div>
</div>

<div id="toasts"></div>

<script src="script.js"></script>
</body>
</html>
